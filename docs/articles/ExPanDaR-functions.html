<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Using the functions of the ExPanDaR package • ExPanDaR</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Using the functions of the ExPanDaR package">
<meta property="og:description" content="">
<meta property="og:image" content="/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-119053376-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-119053376-1');
</script>
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ExPanDaR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.5.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>

  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li class="dropdown-header">ExPanD</li>
    <li>
      <a href="../articles/use_ExPanD.html">Using ExPanD for Panel Data Exploration</a>
    </li>
    <li>
      <a href="../articles/customize_ExPanD.html">Customize ExPanD</a>
    </li>
    <li>
      <a href="../articles/ExPanD_notebook.html">Using the ExPanD Notebook function</a>
    </li>
    <li class="divider">
    <li class="dropdown-header">'ExPanDaR' functions</li>
    <li>
      <a href="../articles/ExPanDaR-functions.html">Using the functions of the 'ExPanDaR' package</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://www.github.com/trr266/ExPanDaR">
    <span class="fa fa-github"></span>

    Code repository
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->


      </header><script src="ExPanDaR-functions_files/kePrint-0.0.1/kePrint.js"></script><link href="ExPanDaR-functions_files/lightable-0.0.1/lightable.css" rel="stylesheet">
<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Using the functions of the ExPanDaR package</h1>
                        <h4 class="author">Joachim Gassen</h4>

            <h4 class="date">2020-12-06</h4>


      <div class="hidden name"><code>ExPanDaR-functions.Rmd</code></div>

    </div>



<p>While the main purpose of the ExPanDaR package is to provide the infrastructure for the ExPanD app, the auxiliary functions of the package can also be used to support your exploratory data analysis workflow in your own code. All functions are relatively thin wrappers around established R packages for graphics and HTML table presentation (ggplot2, kableExtra, stargazer). While I developed them to support analysis steps that are common with empirical archival research projects in the area of accounting and finance (which happens to be my field), I hope that they are generally useful for exploratory data analysis.</p>
<p>To see what ExPanDaR has to offer, let’s take a quick tour. For more detailed guidance on how to use a specific function presented below, take a look at the respective function’s help page.</p>
<div id="data-preparation" class="section level2">
<h2 class="hasAnchor">
<a href="#data-preparation" class="anchor"></a>Data Preparation</h2>
<p>ExPanDaR is designed for exploratory panel data analysis (hence the name). Thus, while you can also use some functions on cross-sectional data, for most functions you will need a data frame containing your panel data. ExPanDaR expects the data to be organized in long format. This implies that each observation (a row) is identified by cross-sectional and time series identifiers and that variables are organized by columns. While you can have a vector of variables jointly determining the cross-section, the time-series needs to be identified by a unique variable. The ExPanDaR functions treat cross-sectional identifiers as factors and expect the time-series identifier to be coercible into an ordered factor.</p>
<p>For this walk-through I will use the data set russell_3000, which comes with the package. It contains some financial reporting and stock return data of Russell 3000 firms from Google Finance and Yahoo Finance and has been collected using the tidyquant package in the summer of 2017. A word of caution: While the data appears to be relatively decent quality I would advise against using this data for scientific work without verifying its integrity first. These are the variables included in the data.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw">kable</span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/data.frame">data.frame</a></span>(<span class="dt">Variable=</span>russell_<span class="dv">3000</span>_data_def<span class="op">$</span>var_name, </a>
<a class="sourceLine" id="cb1-2" data-line-number="2">                 <span class="dt">Definition=</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/grep">sub</a></span>(<span class="st">'$'</span>, <span class="st">'</span><span class="ch">\\</span><span class="st">$'</span>, russell_<span class="dv">3000</span>_data_def<span class="op">$</span>var_def, <span class="dt">fixed =</span> <span class="ot">TRUE</span>)), </a>
<a class="sourceLine" id="cb1-3" data-line-number="3">      <span class="dt">row.names =</span> <span class="ot">FALSE</span>)</a></code></pre></div>
<table class="table">
<thead><tr>
<th style="text-align:left;">
Variable
</th>
<th style="text-align:left;">
Definition
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
coid
</td>
<td style="text-align:left;">
Company identifier
</td>
</tr>
<tr>
<td style="text-align:left;">
period
</td>
<td style="text-align:left;">
Fiscal year
</td>
</tr>
<tr>
<td style="text-align:left;">
coname
</td>
<td style="text-align:left;">
Company name
</td>
</tr>
<tr>
<td style="text-align:left;">
sector
</td>
<td style="text-align:left;">
Sector
</td>
</tr>
<tr>
<td style="text-align:left;">
industry
</td>
<td style="text-align:left;">
Industry
</td>
</tr>
<tr>
<td style="text-align:left;">
toas
</td>
<td style="text-align:left;">
Total assets at period end (M US-$)
</td>
</tr>
<tr>
<td style="text-align:left;">
sales
</td>
<td style="text-align:left;">
Sales of the period (M US-$)
</td>
</tr>
<tr>
<td style="text-align:left;">
equity
</td>
<td style="text-align:left;">
Total equity at period end (M US-$)
</td>
</tr>
<tr>
<td style="text-align:left;">
debt_ta
</td>
<td style="text-align:left;">
Total debt (% total assets)
</td>
</tr>
<tr>
<td style="text-align:left;">
eq_ta
</td>
<td style="text-align:left;">
Total equity (% total assets)
</td>
</tr>
<tr>
<td style="text-align:left;">
gw_ta
</td>
<td style="text-align:left;">
Goodwill (% total assets)
</td>
</tr>
<tr>
<td style="text-align:left;">
oint_ta
</td>
<td style="text-align:left;">
Other intangible assets (% total assets)
</td>
</tr>
<tr>
<td style="text-align:left;">
ppe_ta
</td>
<td style="text-align:left;">
Property, plant and equipment (% total assets)
</td>
</tr>
<tr>
<td style="text-align:left;">
ca_ta
</td>
<td style="text-align:left;">
Current assets (% total assets)
</td>
</tr>
<tr>
<td style="text-align:left;">
cash_ta
</td>
<td style="text-align:left;">
Cash (% total assets)
</td>
</tr>
<tr>
<td style="text-align:left;">
roe
</td>
<td style="text-align:left;">
Return on equity (net income divided by average equity)
</td>
</tr>
<tr>
<td style="text-align:left;">
roa
</td>
<td style="text-align:left;">
Return on assets (earnings before interest and taxes divided by average equity)
</td>
</tr>
<tr>
<td style="text-align:left;">
nioa
</td>
<td style="text-align:left;">
Net income divided by average assets
</td>
</tr>
<tr>
<td style="text-align:left;">
cfoa
</td>
<td style="text-align:left;">
Cash flow from operations divided by average assets
</td>
</tr>
<tr>
<td style="text-align:left;">
accoa
</td>
<td style="text-align:left;">
Total accruals divided by average assets
</td>
</tr>
<tr>
<td style="text-align:left;">
cogs_sales
</td>
<td style="text-align:left;">
Cost of goods sold divided by sales
</td>
</tr>
<tr>
<td style="text-align:left;">
ebit_sales
</td>
<td style="text-align:left;">
Earnings before interest and taxes divided by sales
</td>
</tr>
<tr>
<td style="text-align:left;">
ni_sales
</td>
<td style="text-align:left;">
Net income divided by sales
</td>
</tr>
<tr>
<td style="text-align:left;">
return
</td>
<td style="text-align:left;">
Stock return of the period (%)
</td>
</tr>
</tbody>
</table>
<p>You can infer from the variable definition that <code>coid</code> seems to identify the cross-section (a Russell 3000 firm) while <code>period</code> identifies the time-series (a fiscal year). In addition, <code>coname</code> also sounds like it mighty identify a firm but we cannot be sure whether there are duplicate company names. In addition, we want to verify that there are no duplicate <code>coid</code>/<code>period</code> pairs. Let’s check.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">cs_ids &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/unique">unique</a></span>(russell_<span class="dv">3000</span>[,<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"coid"</span>, <span class="st">"coname"</span>)])</a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/identical">identical</a></span>(cs_ids<span class="op">$</span>coid, <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/unique">unique</a></span>(russell_<span class="dv">3000</span><span class="op">$</span>coid))</a></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/identical">identical</a></span>(cs_ids<span class="op">$</span>coname, <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/unique">unique</a></span>(russell_<span class="dv">3000</span><span class="op">$</span>coname))</a></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>The first test verifies that there are no two observations that share the same <code>coid</code> but a different <code>coname</code>. The second makes sure that there are firms with the same <code>coname</code> but a different <code>coid</code>. Thus, we can use both, <code>coname</code> and <code>coid</code>, or either as cross-sectional identifier.</p>
<p>The following test establishes whether in combination <code>coid</code> and <code>period</code> identify a panel observation.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/any">any</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/duplicated">duplicated</a></span>(russell_<span class="dv">3000</span>[,<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"coid"</span>, <span class="st">"period"</span>)]))</a></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>This seems to be the case.</p>
<p>As a next step, let’s use ExPanDaR’s function <code><a href="../reference/prepare_missing_values_graph.html">prepare_missing_values_graph()</a></code> to eyeball how frequently observations are missing in the data set.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="kw"><a href="../reference/prepare_missing_values_graph.html">prepare_missing_values_graph</a></span>(russell_<span class="dv">3000</span>, <span class="dt">ts_id =</span> <span class="st">"period"</span>)</a></code></pre></div>
<p><img src="ExPanDaR-functions_files/figure-html/missing_obs-1.png" width="576" style="display: block; margin: auto;"></p>
<p>OK. This does not look too bad. Only FY2013 seems odd, as some variables are completely missing. Guess why? They are calculated using lagged values of total assets. So, in the following, let’s focus on the variables that we care about and on the fiscal years 2014 to 2016 (a short panel, I know). Time to check the descriptive statistics using the <code><a href="../reference/prepare_descriptive_table.html">prepare_descriptive_table()</a></code> function.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1">r3 &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/droplevels">droplevels</a></span>(russell_<span class="dv">3000</span>[russell_<span class="dv">3000</span><span class="op">$</span>period <span class="op">&gt;</span><span class="st"> "FY2013"</span>,</a>
<a class="sourceLine" id="cb9-2" data-line-number="2">                              <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"coid"</span>, <span class="st">"coname"</span>, <span class="st">"period"</span>, <span class="st">"sector"</span>, <span class="st">"toas"</span>,</a>
<a class="sourceLine" id="cb9-3" data-line-number="3">                                <span class="st">"nioa"</span>, <span class="st">"cfoa"</span>, <span class="st">"accoa"</span>, <span class="st">"return"</span>)])</a>
<a class="sourceLine" id="cb9-4" data-line-number="4">t &lt;-<span class="st"> </span><span class="kw"><a href="../reference/prepare_descriptive_table.html">prepare_descriptive_table</a></span>(r3)</a>
<a class="sourceLine" id="cb9-5" data-line-number="5">t<span class="op">$</span>kable_ret  <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb9-6" data-line-number="6"><span class="st">  </span><span class="kw">kable_styling</span>(<span class="st">"condensed"</span>, <span class="dt">full_width =</span> F, <span class="dt">position =</span> <span class="st">"center"</span>)</a></code></pre></div>
<table class="table table table-condensed">
<caption>
Descriptive Statistics
</caption>
<thead><tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
N
</th>
<th style="text-align:right;">
Mean
</th>
<th style="text-align:right;">
Std. dev.
</th>
<th style="text-align:right;">
Min.
</th>
<th style="text-align:right;">
25 %
</th>
<th style="text-align:right;">
Median
</th>
<th style="text-align:right;">
75 %
</th>
<th style="text-align:right;">
Max.
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
toas
</td>
<td style="text-align:right;">
6,643
</td>
<td style="text-align:right;">
8,722.510
</td>
<td style="text-align:right;">
35,846.713
</td>
<td style="text-align:right;">
0.800
</td>
<td style="text-align:right;">
463.225
</td>
<td style="text-align:right;">
1,600.050
</td>
<td style="text-align:right;">
5,100.500
</td>
<td style="text-align:right;">
861,395.000
</td>
</tr>
<tr>
<td style="text-align:left;">
nioa
</td>
<td style="text-align:right;">
6,399
</td>
<td style="text-align:right;">
0.001
</td>
<td style="text-align:right;">
0.096
</td>
<td style="text-align:right;">
-2.692
</td>
<td style="text-align:right;">
-0.002
</td>
<td style="text-align:right;">
0.017
</td>
<td style="text-align:right;">
0.037
</td>
<td style="text-align:right;">
0.463
</td>
</tr>
<tr>
<td style="text-align:left;">
cfoa
</td>
<td style="text-align:right;">
6,399
</td>
<td style="text-align:right;">
0.033
</td>
<td style="text-align:right;">
0.084
</td>
<td style="text-align:right;">
-2.121
</td>
<td style="text-align:right;">
0.021
</td>
<td style="text-align:right;">
0.041
</td>
<td style="text-align:right;">
0.065
</td>
<td style="text-align:right;">
0.460
</td>
</tr>
<tr>
<td style="text-align:left;">
accoa
</td>
<td style="text-align:right;">
6,399
</td>
<td style="text-align:right;">
-0.032
</td>
<td style="text-align:right;">
0.052
</td>
<td style="text-align:right;">
-0.712
</td>
<td style="text-align:right;">
-0.046
</td>
<td style="text-align:right;">
-0.026
</td>
<td style="text-align:right;">
-0.012
</td>
<td style="text-align:right;">
0.621
</td>
</tr>
<tr>
<td style="text-align:left;">
return
</td>
<td style="text-align:right;">
6,009
</td>
<td style="text-align:right;">
0.097
</td>
<td style="text-align:right;">
0.433
</td>
<td style="text-align:right;">
-0.938
</td>
<td style="text-align:right;">
-0.136
</td>
<td style="text-align:right;">
0.065
</td>
<td style="text-align:right;">
0.269
</td>
<td style="text-align:right;">
6.346
</td>
</tr>
</tbody>
</table>
<p>Take a look at the minima and the maxima of some of the variables (e.g., net income over assets (<code>nioa</code>)). Normally, it should be around -50 % to + 50%. Our measure has a minimum way below -50 %. One thing that comes very handy when dealing with outliers is a quick way to observe extreme values. <code><a href="../reference/prepare_ext_obs_table.html">prepare_ext_obs_table()</a></code> might be helpful here.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1">t &lt;-<span class="st"> </span><span class="kw"><a href="../reference/prepare_ext_obs_table.html">prepare_ext_obs_table</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/na.fail">na.omit</a></span>(r3[<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"coname"</span>, <span class="st">"period"</span>, <span class="st">"nioa"</span>)]))</a>
<a class="sourceLine" id="cb10-2" data-line-number="2">t<span class="op">$</span>kable_ret <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb10-3" data-line-number="3"><span class="st">  </span><span class="kw">kable_styling</span>(<span class="st">"condensed"</span>, <span class="dt">full_width =</span> F, <span class="dt">position =</span> <span class="st">"center"</span>)</a></code></pre></div>
<table class="table table table-condensed">
<thead><tr>
<th style="text-align:left;">
coname
</th>
<th style="text-align:left;">
period
</th>
<th style="text-align:right;">
nioa
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
Gamco Investors, Inc.
</td>
<td style="text-align:left;">
FY2016
</td>
<td style="text-align:right;">
0.463
</td>
</tr>
<tr>
<td style="text-align:left;">
Gaia, Inc.
</td>
<td style="text-align:left;">
FY2016
</td>
<td style="text-align:right;">
0.369
</td>
</tr>
<tr>
<td style="text-align:left;">
Five Prime Therapeutics, Inc.
</td>
<td style="text-align:left;">
FY2015
</td>
<td style="text-align:right;">
0.355
</td>
</tr>
<tr>
<td style="text-align:left;">
NewLink Genetics Corporation
</td>
<td style="text-align:left;">
FY2014
</td>
<td style="text-align:right;">
0.318
</td>
</tr>
<tr>
<td style="text-align:left;">
Ligand Pharmaceuticals Incorporated
</td>
<td style="text-align:left;">
FY2015
</td>
<td style="text-align:right;">
0.302
</td>
</tr>
<tr>
<td style="text-align:left;">
…
</td>
<td style="text-align:left;">
…
</td>
<td style="text-align:right;">
…
</td>
</tr>
<tr>
<td style="text-align:left;">
Proteostasis Therapeutics, Inc.
</td>
<td style="text-align:left;">
FY2015
</td>
<td style="text-align:right;">
-0.822
</td>
</tr>
<tr>
<td style="text-align:left;">
Proteostasis Therapeutics, Inc.
</td>
<td style="text-align:left;">
FY2014
</td>
<td style="text-align:right;">
-0.830
</td>
</tr>
<tr>
<td style="text-align:left;">
Omeros Corporation
</td>
<td style="text-align:left;">
FY2015
</td>
<td style="text-align:right;">
-1.255
</td>
</tr>
<tr>
<td style="text-align:left;">
vTv Therapeutics Inc.
</td>
<td style="text-align:left;">
FY2014
</td>
<td style="text-align:right;">
-1.269
</td>
</tr>
<tr>
<td style="text-align:left;">
Omeros Corporation
</td>
<td style="text-align:left;">
FY2014
</td>
<td style="text-align:right;">
-2.692
</td>
</tr>
</tbody>
</table>
<p>In a real life research situation, you might want to take a break and check your data as well as the actual financial statements to see what is going on. In most cases, you will see that the outliers are caused by very small denominators (average total assets in this case). To reduce the effect of these outliers on your analysis, you can winsorize (or truncate) them by using the <code><a href="../reference/treat_outliers.html">treat_outliers()</a></code> function.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1">r3win &lt;-<span class="st"> </span><span class="kw"><a href="../reference/treat_outliers.html">treat_outliers</a></span>(r3, <span class="dt">percentile =</span> <span class="fl">0.01</span>)</a>
<a class="sourceLine" id="cb11-2" data-line-number="2">t &lt;-<span class="st"> </span><span class="kw"><a href="../reference/prepare_ext_obs_table.html">prepare_ext_obs_table</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/na.fail">na.omit</a></span>(r3win[<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"coname"</span>, <span class="st">"period"</span>, <span class="st">"nioa"</span>)]))</a>
<a class="sourceLine" id="cb11-3" data-line-number="3">t<span class="op">$</span>kable_ret <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb11-4" data-line-number="4"><span class="st">  </span><span class="kw">kable_styling</span>(<span class="st">"condensed"</span>, <span class="dt">full_width =</span> F, <span class="dt">position =</span> <span class="st">"center"</span>)</a></code></pre></div>
<table class="table table table-condensed">
<thead><tr>
<th style="text-align:left;">
coname
</th>
<th style="text-align:left;">
period
</th>
<th style="text-align:right;">
nioa
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
ABIOMED, Inc.
</td>
<td style="text-align:left;">
FY2015
</td>
<td style="text-align:right;">
0.147
</td>
</tr>
<tr>
<td style="text-align:left;">
Acacia Communications, Inc.
</td>
<td style="text-align:left;">
FY2015
</td>
<td style="text-align:right;">
0.147
</td>
</tr>
<tr>
<td style="text-align:left;">
Acacia Communications, Inc.
</td>
<td style="text-align:left;">
FY2016
</td>
<td style="text-align:right;">
0.147
</td>
</tr>
<tr>
<td style="text-align:left;">
Aspen Technology, Inc.
</td>
<td style="text-align:left;">
FY2015
</td>
<td style="text-align:right;">
0.147
</td>
</tr>
<tr>
<td style="text-align:left;">
Aspen Technology, Inc.
</td>
<td style="text-align:left;">
FY2016
</td>
<td style="text-align:right;">
0.147
</td>
</tr>
<tr>
<td style="text-align:left;">
…
</td>
<td style="text-align:left;">
…
</td>
<td style="text-align:right;">
…
</td>
</tr>
<tr>
<td style="text-align:left;">
Workhorse Group, Inc.
</td>
<td style="text-align:left;">
FY2015
</td>
<td style="text-align:right;">
-0.355
</td>
</tr>
<tr>
<td style="text-align:left;">
Workhorse Group, Inc.
</td>
<td style="text-align:left;">
FY2016
</td>
<td style="text-align:right;">
-0.355
</td>
</tr>
<tr>
<td style="text-align:left;">
EXCO Resources NL
</td>
<td style="text-align:left;">
FY2015
</td>
<td style="text-align:right;">
-0.355
</td>
</tr>
<tr>
<td style="text-align:left;">
ZIOPHARM Oncology Inc
</td>
<td style="text-align:left;">
FY2015
</td>
<td style="text-align:right;">
-0.355
</td>
</tr>
<tr>
<td style="text-align:left;">
ZIOPHARM Oncology Inc
</td>
<td style="text-align:left;">
FY2016
</td>
<td style="text-align:right;">
-0.355
</td>
</tr>
</tbody>
</table>
</div>
<div id="descriptive-statistics" class="section level2">
<h2 class="hasAnchor">
<a href="#descriptive-statistics" class="anchor"></a>Descriptive Statistics</h2>
<p>This looks better. Let’s look at the winsorized descriptive statistics.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1">t &lt;-<span class="st"> </span><span class="kw"><a href="../reference/prepare_descriptive_table.html">prepare_descriptive_table</a></span>(r3win)</a>
<a class="sourceLine" id="cb12-2" data-line-number="2">t<span class="op">$</span>kable_ret  <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb12-3" data-line-number="3"><span class="st">  </span><span class="kw">kable_styling</span>(<span class="st">"condensed"</span>, <span class="dt">full_width =</span> F, <span class="dt">position =</span> <span class="st">"center"</span>)</a></code></pre></div>
<table class="table table table-condensed">
<caption>
Descriptive Statistics
</caption>
<thead><tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
N
</th>
<th style="text-align:right;">
Mean
</th>
<th style="text-align:right;">
Std. dev.
</th>
<th style="text-align:right;">
Min.
</th>
<th style="text-align:right;">
25 %
</th>
<th style="text-align:right;">
Median
</th>
<th style="text-align:right;">
75 %
</th>
<th style="text-align:right;">
Max.
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
toas
</td>
<td style="text-align:right;">
6,643
</td>
<td style="text-align:right;">
7,198.735
</td>
<td style="text-align:right;">
17,632.076
</td>
<td style="text-align:right;">
45.400
</td>
<td style="text-align:right;">
463.225
</td>
<td style="text-align:right;">
1,600.050
</td>
<td style="text-align:right;">
5,100.500
</td>
<td style="text-align:right;">
122,418.180
</td>
</tr>
<tr>
<td style="text-align:left;">
nioa
</td>
<td style="text-align:right;">
6,399
</td>
<td style="text-align:right;">
0.002
</td>
<td style="text-align:right;">
0.077
</td>
<td style="text-align:right;">
-0.355
</td>
<td style="text-align:right;">
-0.002
</td>
<td style="text-align:right;">
0.017
</td>
<td style="text-align:right;">
0.037
</td>
<td style="text-align:right;">
0.147
</td>
</tr>
<tr>
<td style="text-align:left;">
cfoa
</td>
<td style="text-align:right;">
6,399
</td>
<td style="text-align:right;">
0.034
</td>
<td style="text-align:right;">
0.068
</td>
<td style="text-align:right;">
-0.280
</td>
<td style="text-align:right;">
0.021
</td>
<td style="text-align:right;">
0.041
</td>
<td style="text-align:right;">
0.065
</td>
<td style="text-align:right;">
0.178
</td>
</tr>
<tr>
<td style="text-align:left;">
accoa
</td>
<td style="text-align:right;">
6,399
</td>
<td style="text-align:right;">
-0.032
</td>
<td style="text-align:right;">
0.043
</td>
<td style="text-align:right;">
-0.209
</td>
<td style="text-align:right;">
-0.046
</td>
<td style="text-align:right;">
-0.026
</td>
<td style="text-align:right;">
-0.012
</td>
<td style="text-align:right;">
0.092
</td>
</tr>
<tr>
<td style="text-align:left;">
return
</td>
<td style="text-align:right;">
6,009
</td>
<td style="text-align:right;">
0.088
</td>
<td style="text-align:right;">
0.375
</td>
<td style="text-align:right;">
-0.707
</td>
<td style="text-align:right;">
-0.136
</td>
<td style="text-align:right;">
0.065
</td>
<td style="text-align:right;">
0.269
</td>
<td style="text-align:right;">
1.568
</td>
</tr>
</tbody>
</table>
<p>I am sure that you won’t care but I am a big fan of correlation tables. <code><a href="../reference/prepare_correlation_table.html">prepare_correlation_table()</a></code> prepares a table reporting Pearson correlations above and Spearman correlations below the diagonal.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1">t&lt;-<span class="st"> </span><span class="kw"><a href="../reference/prepare_correlation_table.html">prepare_correlation_table</a></span>(r3win, <span class="dt">bold =</span> <span class="fl">0.01</span>, <span class="dt">format=</span><span class="st">"html"</span>)</a>
<a class="sourceLine" id="cb13-2" data-line-number="2">t<span class="op">$</span>kable_ret <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb13-3" data-line-number="3"><span class="st">  </span><span class="kw">kable_styling</span>(<span class="st">"condensed"</span>, <span class="dt">full_width =</span> F, <span class="dt">position =</span> <span class="st">"center"</span>)</a></code></pre></div>
<table class="table table table-condensed">
<thead><tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
A
</th>
<th style="text-align:right;">
B
</th>
<th style="text-align:right;">
C
</th>
<th style="text-align:right;">
D
</th>
<th style="text-align:right;">
E
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
A: toas
</td>
<td style="text-align:right;">
</td>
<td style="text-align:right;">
<span style=" font-weight: bold;    ">0.10</span>
</td>
<td style="text-align:right;">
<span style=" font-weight: bold;    ">0.07</span>
</td>
<td style="text-align:right;">
<span style=" font-weight: bold;    ">0.08</span>
</td>
<td style="text-align:right;">
<span style="     ">-0.00</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
B: nioa
</td>
<td style="text-align:right;">
<span style=" font-weight: bold;    ">0.17</span>
</td>
<td style="text-align:right;">
</td>
<td style="text-align:right;">
<span style=" font-weight: bold;    ">0.80</span>
</td>
<td style="text-align:right;">
<span style=" font-weight: bold;    ">0.49</span>
</td>
<td style="text-align:right;">
<span style=" font-weight: bold;    ">0.15</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
C: cfoa
</td>
<td style="text-align:right;">
<span style=" font-weight: bold;    ">0.10</span>
</td>
<td style="text-align:right;">
<span style=" font-weight: bold;    ">0.66</span>
</td>
<td style="text-align:right;">
</td>
<td style="text-align:right;">
<span style=" font-weight: bold;    ">-0.09</span>
</td>
<td style="text-align:right;">
<span style=" font-weight: bold;    ">0.12</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
D: accoa
</td>
<td style="text-align:right;">
<span style=" font-weight: bold;    ">0.20</span>
</td>
<td style="text-align:right;">
<span style=" font-weight: bold;    ">0.38</span>
</td>
<td style="text-align:right;">
<span style=" font-weight: bold;    ">-0.30</span>
</td>
<td style="text-align:right;">
</td>
<td style="text-align:right;">
<span style=" font-weight: bold;    ">0.07</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
E: return
</td>
<td style="text-align:right;">
<span style=" font-weight: bold;    ">0.04</span>
</td>
<td style="text-align:right;">
<span style=" font-weight: bold;    ">0.20</span>
</td>
<td style="text-align:right;">
<span style=" font-weight: bold;    ">0.14</span>
</td>
<td style="text-align:right;">
<span style=" font-weight: bold;    ">0.08</span>
</td>
<td style="text-align:right;">
</td>
</tr>
</tbody>
<tfoot><tr>
<td style="padding: 0; " colspan="100%">
<sup></sup> This table reports Pearson correlations above and Spearman correlations below the diagonal. The number of observations ranges from 6002 to 6643. Correlations with significance levels below 1% appear in bold print.
</td>
</tr></tfoot>
</table>
<p>In fact, I like correlations so much that especially for samples containing many variables I use <code><a href="../reference/prepare_correlation_graph.html">prepare_correlation_graph()</a></code> to display a graphic variant based on the corrplot package. See for yourself.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1">ret &lt;-<span class="st"> </span><span class="kw"><a href="../reference/prepare_correlation_graph.html">prepare_correlation_graph</a></span>(r3win)</a></code></pre></div>
<p><img src="ExPanDaR-functions_files/figure-html/correlation_graph-1.png" width="384" style="display: block; margin: auto;"></p>
</div>
<div id="visuals" class="section level2">
<h2 class="hasAnchor">
<a href="#visuals" class="anchor"></a>Visuals</h2>
<p>Additional visuals are available for exploring time trends. <code><a href="../reference/prepare_trend_graph.html">prepare_trend_graph()</a></code> can be used for comparing variables…</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" data-line-number="1">graph &lt;-<span class="st"> </span><span class="kw"><a href="../reference/prepare_trend_graph.html">prepare_trend_graph</a></span>(r3win[<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"period"</span>, <span class="st">"nioa"</span>, <span class="st">"cfoa"</span>, <span class="st">"accoa"</span>)], <span class="st">"period"</span>)</a>
<a class="sourceLine" id="cb15-2" data-line-number="2">graph<span class="op">$</span>plot</a></code></pre></div>
<p><img src="ExPanDaR-functions_files/figure-html/time_trend_plot-1.png" width="576" style="display: block; margin: auto;"></p>
<p>… and for eyeballing the distributional properties of a single variable over time you have <code><a href="../reference/prepare_quantile_trend_graph.html">prepare_quantile_trend_graph()</a></code>.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" data-line-number="1">graph &lt;-<span class="st"> </span><span class="kw"><a href="../reference/prepare_quantile_trend_graph.html">prepare_quantile_trend_graph</a></span>(r3win[<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"period"</span>, <span class="st">"return"</span>)], <span class="st">"period"</span>, <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="fl">0.05</span>, <span class="fl">0.25</span>, <span class="fl">0.5</span>, <span class="fl">0.75</span>, <span class="fl">0.95</span>))</a>
<a class="sourceLine" id="cb16-2" data-line-number="2">graph<span class="op">$</span>plot</a></code></pre></div>
<p><img src="ExPanDaR-functions_files/figure-html/quantile_plot-1.png" width="576" style="display: block; margin: auto;"></p>
<p>Nothing special going on here (not really surprising, given the short time span that the sample covers). Let’s see how profitability varies across sectors by using the<br><code><a href="../reference/prepare_by_group_trend_graph.html">prepare_by_group_trend_graph()</a></code> function.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" data-line-number="1">graph &lt;-<span class="st"> </span><span class="kw"><a href="../reference/prepare_by_group_trend_graph.html">prepare_by_group_trend_graph</a></span>(r3win, <span class="st">"period"</span>, <span class="st">"sector"</span>, <span class="st">"nioa"</span>)</a>
<a class="sourceLine" id="cb17-2" data-line-number="2">graph<span class="op">$</span>plot</a></code></pre></div>
<p><img src="ExPanDaR-functions_files/figure-html/bgtg_plot-1.png" width="576" style="display: block; margin: auto;"></p>
<p>The health sector is clearly less profitable compared to the others, which can be explained by small growing firms. Finally, <code><a href="../reference/prepare_scatter_plot.html">prepare_scatter_plot()</a></code> produces the mother of all plots, the scatter plot.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" data-line-number="1"><span class="kw"><a href="../reference/prepare_scatter_plot.html">prepare_scatter_plot</a></span>(r3win, <span class="dt">x=</span><span class="st">"nioa"</span>, <span class="dt">y=</span><span class="st">"return"</span>, <span class="dt">color=</span><span class="st">"sector"</span>, <span class="dt">size=</span><span class="st">"toas"</span>, <span class="dt">loess =</span> <span class="dv">1</span>)</a></code></pre></div>
<pre><code>## `geom_smooth()` using method = 'gam' and formula 'y ~ s(x, bs = "cs")'</code></pre>
<p><img src="ExPanDaR-functions_files/figure-html/scatter_plot-1.png" width="672" style="display: block; margin: auto;"></p>
<p>Do you see the structural break around nioa == 0? Researchers in the area of accounting tend to like that kind of stuff.</p>
</div>
<div id="regression-tables" class="section level2">
<h2 class="hasAnchor">
<a href="#regression-tables" class="anchor"></a>Regression Tables</h2>
<p>Finally, if you happen to be a fan of starred numbers, you can also quickly produce regression tables by using the function <code><a href="../reference/prepare_regression_table.html">prepare_regression_table()</a></code> that calls <code><a href="https://www.rdocumentation.org/packages/lfe/topics/felm">lfe::felm()</a></code> for OLS and <code><a href="https://www.rdocumentation.org/packages/stats/topics/glm">glm()</a></code> for binary logit models. The tables are then constructed by calling <code><a href="https://www.rdocumentation.org/packages/stargazer/topics/stargazer">stargazer::stargazer()</a></code>, allowing for plain text, html and latex output.</p>
<p>You can construct tables by mixing different models…</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb20-1" data-line-number="1">dvs &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"return"</span>, <span class="st">"return"</span>, <span class="st">"return"</span>, <span class="st">"return"</span>, <span class="st">"return"</span>, <span class="st">"return"</span>)</a>
<a class="sourceLine" id="cb20-2" data-line-number="2">idvs &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/list">list</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"nioa"</span>), </a>
<a class="sourceLine" id="cb20-3" data-line-number="3">             <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"cfoa"</span>), </a>
<a class="sourceLine" id="cb20-4" data-line-number="4">             <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"accoa"</span>), </a>
<a class="sourceLine" id="cb20-5" data-line-number="5">             <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"cfoa"</span>, <span class="st">"accoa"</span>), </a>
<a class="sourceLine" id="cb20-6" data-line-number="6">             <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"nioa"</span>, <span class="st">"accoa"</span>), </a>
<a class="sourceLine" id="cb20-7" data-line-number="7">             <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"nioa"</span>, <span class="st">"accoa"</span>)) </a>
<a class="sourceLine" id="cb20-8" data-line-number="8">feffects &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/list">list</a></span>(<span class="st">"period"</span>, <span class="st">"period"</span>, <span class="st">"period"</span>, </a>
<a class="sourceLine" id="cb20-9" data-line-number="9">                 <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"coid"</span>, <span class="st">"period"</span>), <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"coid"</span>, <span class="st">"period"</span>), <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"coid"</span>, <span class="st">"period"</span>))</a>
<a class="sourceLine" id="cb20-10" data-line-number="10">clusters &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/list">list</a></span>(<span class="st">""</span>, <span class="st">""</span>, <span class="st">""</span>, <span class="st">"coid"</span>, <span class="st">"coid"</span>, <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"coid"</span>, <span class="st">"period"</span>))</a>
<a class="sourceLine" id="cb20-11" data-line-number="11">t &lt;-<span class="st"> </span><span class="kw"><a href="../reference/prepare_regression_table.html">prepare_regression_table</a></span>(r3win, dvs, idvs, feffects, clusters)</a>
<a class="sourceLine" id="cb20-12" data-line-number="12">htmltools<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/htmltools/topics/HTML">HTML</a></span>(t<span class="op">$</span>table)</a></code></pre></div>
 <table class="table">
<tr><td colspan="7" style="border-bottom: 1px solid black"></td></tr>
<tr>
<td style="text-align:left"></td>
<td colspan="6"><em>Dependent variable:</em></td>
</tr>
<tr>
<td></td>
<td colspan="6" style="border-bottom: 1px solid black"></td>
</tr>
<tr>
<td style="text-align:left"></td>
<td>return</td>
<td>return</td>
<td>return</td>
<td>return</td>
<td>return</td>
<td>return</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td>(1)</td>
<td>(2)</td>
<td>(3)</td>
<td>(4)</td>
<td>(5)</td>
<td>(6)</td>
</tr>
<tr><td colspan="7" style="border-bottom: 1px solid black"></td></tr>
<tr>
<td style="text-align:left">nioa</td>
<td>0.772<sup>***</sup>
</td>
<td></td>
<td></td>
<td></td>
<td>1.794<sup>***</sup>
</td>
<td>1.794<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td>(0.064)</td>
<td></td>
<td></td>
<td></td>
<td>(0.305)</td>
<td>(0.406)</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td style="text-align:left">cfoa</td>
<td></td>
<td>0.705<sup>***</sup>
</td>
<td></td>
<td>1.582<sup>***</sup>
</td>
<td></td>
<td></td>
</tr>
<tr>
<td style="text-align:left"></td>
<td></td>
<td>(0.073)</td>
<td></td>
<td>(0.326)</td>
<td></td>
<td></td>
</tr>
<tr>
<td style="text-align:left"></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td style="text-align:left">accoa</td>
<td></td>
<td></td>
<td>0.534<sup>***</sup>
</td>
<td>0.876<sup>***</sup>
</td>
<td>-0.890<sup>***</sup>
</td>
<td>-0.890<sup>**</sup>
</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td></td>
<td></td>
<td>(0.116)</td>
<td>(0.303)</td>
<td>(0.314)</td>
<td>(0.439)</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr><td colspan="7" style="border-bottom: 1px solid black"></td></tr>
<tr>
<td style="text-align:left">Estimator</td>
<td>ols</td>
<td>ols</td>
<td>ols</td>
<td>ols</td>
<td>ols</td>
<td>ols</td>
</tr>
<tr>
<td style="text-align:left">Fixed effects</td>
<td>period</td>
<td>period</td>
<td>period</td>
<td>coid, period</td>
<td>coid, period</td>
<td>coid, period</td>
</tr>
<tr>
<td style="text-align:left">Std. errors clustered</td>
<td>No</td>
<td>No</td>
<td>No</td>
<td>coid</td>
<td>coid</td>
<td>coid, period</td>
</tr>
<tr>
<td style="text-align:left">Observations</td>
<td>6,002</td>
<td>6,002</td>
<td>6,002</td>
<td>6,002</td>
<td>6,002</td>
<td>6,002</td>
</tr>
<tr>
<td style="text-align:left">R<sup>2</sup>
</td>
<td>0.023</td>
<td>0.015</td>
<td>0.004</td>
<td>0.013</td>
<td>0.018</td>
<td>0.018</td>
</tr>
<tr>
<td style="text-align:left">Adjusted R<sup>2</sup>
</td>
<td>0.023</td>
<td>0.015</td>
<td>0.003</td>
<td>-0.564</td>
<td>-0.556</td>
<td>-0.556</td>
</tr>
<tr><td colspan="7" style="border-bottom: 1px solid black"></td></tr>
<tr>
<td style="text-align:left"><em>Note:</em></td>
<td colspan="6" style="text-align:right">
<sup>*</sup>p&lt;0.1; <sup>**</sup>p&lt;0.05; <sup>***</sup>p&lt;0.01</td>
</tr>
</table>
<p>… or by applying one model on different sub-samples.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" data-line-number="1">t &lt;-<span class="st"> </span><span class="kw"><a href="../reference/prepare_regression_table.html">prepare_regression_table</a></span>(r3win, <span class="st">"return"</span>, <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"nioa"</span>, <span class="st">"accoa"</span>), <span class="dt">byvar=</span><span class="st">"period"</span>)</a>
<a class="sourceLine" id="cb21-2" data-line-number="2">htmltools<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/htmltools/topics/HTML">HTML</a></span>(t<span class="op">$</span>table)</a></code></pre></div>
 <table class="table">
<tr><td colspan="5" style="border-bottom: 1px solid black"></td></tr>
<tr>
<td style="text-align:left"></td>
<td colspan="4"><em>Dependent variable:</em></td>
</tr>
<tr>
<td></td>
<td colspan="4" style="border-bottom: 1px solid black"></td>
</tr>
<tr>
<td style="text-align:left"></td>
<td colspan="4">return</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td>Full Sample</td>
<td>FY2014</td>
<td>FY2015</td>
<td>FY2016</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td>(1)</td>
<td>(2)</td>
<td>(3)</td>
<td>(4)</td>
</tr>
<tr><td colspan="5" style="border-bottom: 1px solid black"></td></tr>
<tr>
<td style="text-align:left">nioa</td>
<td>0.801<sup>***</sup>
</td>
<td>0.234<sup>*</sup>
</td>
<td>0.607<sup>***</sup>
</td>
<td>1.375<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td>(0.074)</td>
<td>(0.139)</td>
<td>(0.123)</td>
<td>(0.119)</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td style="text-align:left">accoa</td>
<td>-0.067</td>
<td>0.014</td>
<td>0.638<sup>***</sup>
</td>
<td>-1.224<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td>(0.132)</td>
<td>(0.240)</td>
<td>(0.205)</td>
<td>(0.233)</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td style="text-align:left">Constant</td>
<td>0.082<sup>***</sup>
</td>
<td>0.130<sup>***</sup>
</td>
<td>0.014</td>
<td>0.096<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td>(0.006)</td>
<td>(0.011)</td>
<td>(0.011)</td>
<td>(0.011)</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr><td colspan="5" style="border-bottom: 1px solid black"></td></tr>
<tr>
<td style="text-align:left">Estimator</td>
<td>ols</td>
<td>ols</td>
<td>ols</td>
<td>ols</td>
</tr>
<tr>
<td style="text-align:left">Fixed effects</td>
<td>None</td>
<td>None</td>
<td>None</td>
<td>None</td>
</tr>
<tr>
<td style="text-align:left">Std. errors clustered</td>
<td>No</td>
<td>No</td>
<td>No</td>
<td>No</td>
</tr>
<tr>
<td style="text-align:left">Observations</td>
<td>6,002</td>
<td>1,817</td>
<td>2,033</td>
<td>2,152</td>
</tr>
<tr>
<td style="text-align:left">R<sup>2</sup>
</td>
<td>0.023</td>
<td>0.002</td>
<td>0.033</td>
<td>0.058</td>
</tr>
<tr>
<td style="text-align:left">Adjusted R<sup>2</sup>
</td>
<td>0.023</td>
<td>0.001</td>
<td>0.032</td>
<td>0.057</td>
</tr>
<tr><td colspan="5" style="border-bottom: 1px solid black"></td></tr>
<tr>
<td style="text-align:left"><em>Note:</em></td>
<td colspan="4" style="text-align:right">
<sup>*</sup>p&lt;0.1; <sup>**</sup>p&lt;0.05; <sup>***</sup>p&lt;0.01</td>
</tr>
</table>
</div>
<div id="conclusion" class="section level2">
<h2 class="hasAnchor">
<a href="#conclusion" class="anchor"></a>Conclusion</h2>
<p>This is all there is (currently). All these functions are rather simple wrappers around established R functions. They can easily be modified to fit your needs and taste. Take look at the <a href="https://github.com/joachim-gassen/ExPanDaR">github repository of the ExPanDaR package</a> for the code. Have fun!</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#data-preparation">Data Preparation</a></li>
      <li><a href="#descriptive-statistics">Descriptive Statistics</a></li>
      <li><a href="#visuals">Visuals</a></li>
      <li><a href="#regression-tables">Regression Tables</a></li>
      <li><a href="#conclusion">Conclusion</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Joachim Gassen.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>



  </body>
</html>
